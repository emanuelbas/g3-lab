<h4> <small></small> Crear Paciente <small></small></h4>
<form autocomplete="off" (ngSubmit)="onSubmit(formPaciente)" #formPaciente="ngForm"   >

  <div class="form-group row">
    <label class="col-2 col-form-label">Nombre</label>
    <div class="col-8">

      <input class="form-control"
             #name="ngModel"
             [ngModel]="user.name"
             [class.is-invalid]="name.invalid && name.touched"
             name="name"
             type="text"
             placeholder="Nombre"
             required
             minlength="2"
             >
      <small
        *ngIf="(name.invalid && name.touched)"
        class="form-text text-danger">
          El nombre es obligatorio
      </small>
    </div>
  </div>

  <div class="form-group row">
    <label class="col-2 col-form-label">Apellido</label>
    <div class="col-8">

      <input class="form-control"
             #surname="ngModel"
             [ngModel]="user.surname"
             [class.is-invalid]="surname.invalid && surname.touched"
             name="surname"
             type="text"
             placeholder="Apellido"
             required
             >
      <small
        *ngIf="name.invalid && name.touched"
        class="form-text text-danger">
          Apellido es obligatorio y debe tener al menos 5 letras
      </small>
    </div>
  </div>

  <div class="form-group row">
    <label class="col-2 col-form-label">DNI</label>
    <div class="col-8">

      <input class="form-control"
             #dni="ngModel"
             [ngModel]="user.dni"
             [class.is-invalid]="dni.invalid && dni.touched"
             name="dni"
             type="number"
             placeholder="DNI"
             required
             >
      <small
        *ngIf="name.invalid && name.touched"
        class="form-text text-danger">
          DNI es obligatorio
      </small>
    </div>
  </div>

<div class="form-group row">
  <label class="col-2 col-form-label">Contraseña</label>
  <div class="col-8">

    <input class="form-control"
           #password1="ngModel"
           [ngModel]="user.password1"
           name="password1"
           type="password"
           required
           >
  </div>
</div>

<div class="form-group row">
  <label class="col-2 col-form-label">Repetir contraseña</label>
  <div class="col-8">

    <input class="form-control"
           #password2="ngModel"
           [ngModel]="user.password2"
           name="password2"
           type="password"
           required
           >
  </div>
</div>

<div class="form-group row">
  <label class="col-2 col-form-label">Fecha de Nacimiento</label>
  <div class="col-8">
    
    <input (change)="calcularEdad($event.target)"
           class="form-control"
           #fnac="ngModel"
           [ngModel]="user.fecha_nacimiento"
           name="fecha"
           type="date"
           required
           >
  </div>
</div>

<!-- SI ES MAYOR DE 18 ENTONCES MUESTRA FORM CON DATOS COMPLETO -->
<div *ngIf="edad && edad >= 18">
<div class="form-group row">
  <label class="col-2 col-form-label">Teléfono</label>
  <div class="col-8">

    <input class="form-control"
           #tutorName="ngModel"
           [ngModel]="user.telefono"
           
           name="telefono"
           type="number"
           placeholder="Telefono"
           required
           >
  </div>
</div>

<div class="form-group row">
  <label class="col-2 col-form-label">Dirección</label>
  <div class="col-8">

    <input class="form-control"
           #tutorName="ngModel"
           [ngModel]="user.direccion"
           
           name="direccion"
           type="text"
           placeholder="Direccion"
           required
           >
  </div>
</div>

<div class="form-group row">
  <label class="col-2 col-form-label">Email</label>
  <div class="col-8">

    <input class="form-control"
           #tutorName="ngModel"
           [ngModel]="user.email"
           
           name="email"
           type="text"
           placeholder="Email"
           required
           >
  </div>
</div>
</div>
<!-- SI ES MENOR DE 18 ENTONCES MUESTRA FORM CON DATOS DE TUTOR -->
<div *ngIf="edad && edad < 18">
  <h5>Datos del Tutor</h5>

  <div class="form-group row">
    <label class="col-2 col-form-label">Nombre del Tutor</label>
    <div class="col-8">

      <input class="form-control"
             #tutorName="ngModel"
             [ngModel]="user.tutorName"
             
             name="tutorName"
             type="text"
             placeholder="Nombre del Tutor"
             required
             >
    </div>
  </div>

  <div class="form-group row">
    <label class="col-2 col-form-label">Apellido del Tutor</label>
    <div class="col-8">

      <input class="form-control"
             #tutorName="ngModel"
             [ngModel]="user.tutorSurname"
             
             name="tutorSurname"
             type="text"
             placeholder="Apllido del Tutor"
             required
             >
    </div>
  </div>


  <div class="form-group row">
    <label class="col-2 col-form-label">Dirección del Tutor</label>
    <div class="col-8">

      <input class="form-control"
             #tutorName="ngModel"
             [ngModel]="user.tutorDireccion"
             
             name="tutorDireccion"
             type="text"
             placeholder="Direccion del Tutor"
             required
             >
    </div>
  </div>

  <div class="form-group row">
    <label class="col-2 col-form-label">Email del Tutor</label>
    <div class="col-8">

      <input class="form-control"
             #tutorName="ngModel"
             [ngModel]="user.tutorEmail"

             name="tutorEmail"
             type="text"
             placeholder="Email del Tutor"
             required
             >
    </div>
  </div>

</div>

<div class="form-group row">
  <div class="input-group col-md-10 mt-2 d-flex justify-content-end">
    <button class="btn btn-danger  col-3 mr-2" (click)="backNavigate()">
      Cancelar
    </button>
    <button type="submit" class="btn btn-outline-primary  col-3 mt-0">
      Guardar
    </button>

  </div>
</div>
</form>
